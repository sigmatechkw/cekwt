(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function r(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"$body",$(document.body)),r(this,"$productsFilter",this.$body.find("#products-filter"))}var a,o,n;return a=e,o=[{key:"init",value:function(){var e=this;this.$body.on("click",".add-to-cart:not(.cart-form button[type=submit])",(function(t){e.addToCart(t)})).on("click",".remove-cart-item",(function(t){e.removeFromCart(t)})).on("click",".btn-apply-coupon-code",(function(t){e.applyCouponCode(t)})).on("click",".btn-remove-coupon-code",(function(t){e.removeCouponCode(t)})).on("click",".product-quantity span",(function(t){e.changeCartQuantity(t)})).on("keyup",".product-quantity input",(function(t){e.onChangeQuantityInput(t)})).on("click",".add-to-compare",(function(t){e.addToCompare(t)})).on("click",".js-sale-popup-quick-view-button",(function(t){e.quickView(t)})).on("click",".tpproduct .quickview",(function(t){e.quickView(t)})).on("click",".tpproduct .button-quick-shop",(function(t){e.quickShop(t)})).on("click",".remove-compare-item",(function(t){e.removeFromCompare(t)})).on("click",".add-to-wishlist",(function(t){e.addToWishlist(t)})).on("click",".remove-wishlist-item",(function(t){e.removeFromWishlist(t)})).on("submit","#products-filter",(function(t){t.preventDefault(),e.filterProducts($(t.currentTarget),1)})).on("click",".product-area .basic-pagination ul li a",(function(t){e.handleProductsPagination(t)})).on("change",'.product-area .tp-shop-selector select[name="sort-by"]',(function(t){e.handleProductsSorting(t)})).on("change",'.product-area .tp-shop-selector select[name="per-page"]',(function(t){e.handleProductsPerPage(t)})).on("click",".product-area .product-filter-nav button",(function(t){e.handleProductsLayout(t)})).on("change","#products-filter select, input",(function(t){$(t.currentTarget).closest("#quick-shop-popup").length||e.$productsFilter.trigger("submit")})).on("click",".product-filter-button",(function(){e.$body.find(".product-filter-mobile").addClass("active")})).on("click",".product-filter-mobile .backdrop, .close-product-filter-mobile",(function(){e.$body.find(".product-filter-mobile").removeClass("active")})).on("click","form.cart-form button[type=submit]",(function(t){e.addProductToCart(t)})).on("click",".tpproduct-details__reviewers",(function(){e.$body.find(".tpproduct-details__nav #reviews-tab").trigger("click"),$("html, body").animate({scrollTop:$(".tpproduct-details__navtab").offset().top-100})})).on("click",".product-sidebar__list .f-right",(function(e){e.preventDefault(),$(e.currentTarget).closest(".category-filter").find(".product-sidebar__list").slideToggle()})),this.priceFilter(),this.productGallery($(".product-gallery")),this.quickSearchProducts();var t=this;window.onBeforeChangeSwatches=function(e,t){var r=t.closest(".tpproduct-details__content"),a=r.find(".cart-form");r.find(".error-message").hide(),r.find(".success-message").hide(),r.find(".number-items-available").html("").hide();var o=a.find("button[type=submit]");e&&o.prop("disabled",!0)},window.onChangeSwatchesSuccess=function(e,r){var a=r.closest(".tpproduct-details__content"),o=a.find(".cart-form"),n=$(".footer-cart-form");if(e){var i=o.find("button[type=submit]");if(e.error)i.prop("disabled",!0),a.find(".number-items-available").html("<span class='text-danger'>(".concat(e.message,")</span>")).show(),o.find(".hidden-product-id").val(""),n.find(".hidden-product-id").val("");else{var c=e.data,l=a.find(".tpproduct-details__price"),s=l.find(".product-price-sale"),d=l.find(".product-price-original");c.sale_price!==c.price?(s.removeClass("d-none"),d.addClass("d-none")):(s.addClass("d-none"),d.removeClass("d-none")),s.find("span.amount").text(c.display_sale_price),s.find("del.amount").text(c.display_price),d.find("span.amount").text(c.display_sale_price),c.sku?(a.find(".meta-sku .meta-value").text(c.sku),a.find(".meta-sku").removeClass("d-none")):a.find(".meta-sku").addClass("d-none"),o.find(".hidden-product-id").val(c.id),n.find(".hidden-product-id").val(c.id),i.prop("disabled",!1),c.error_message?(i.prop("disabled",!0),a.find(".number-items-available").html("<span class='text-danger'>(".concat(c.error_message,")</span>")).show()):c.success_message?a.find(".number-items-available").html(e.data.stock_status_html).show():a.find(".number-items-available").html("").hide();var u=c.unavailable_attribute_ids||[];a.find(".attribute-swatch-item").removeClass("pe-none"),a.find(".product-filter-item option").prop("disabled",!1),u&&u.length&&u.map((function(e){var t=a.find('.attribute-swatch-item[data-id="'.concat(e,'"]'));t.length?(t.addClass("pe-none"),t.find("input").prop("checked",!1)):(t=a.find('.product-filter-item option[data-id="'.concat(e,'"]'))).length&&t.prop("disabled","disabled").prop("selected",!1)}));var p=a.closest(".product-area").find(".product-gallery"),f="";c.image_with_sizes.origin.forEach((function(e){f+="<a href='".concat(e,"'>\n                        <img title='").concat(c.name,"' title='").concat(c.name,"' src='").concat(siteConfig.img_placeholder?siteConfig.img_placeholder:e,"' data-lazy='").concat(e,"'>\n                    </a>")})),p.find(".product-gallery__wrapper").slick("unslick").html(f);var m="";c.image_with_sizes.thumb.forEach((function(e){m+="<img alt='".concat(c.name,"' title='").concat(c.name,"' src='").concat(siteConfig.img_placeholder?siteConfig.img_placeholder:e,"' data-src='").concat(e,"' data-lazy='").concat(e,"'>")})),p.find(".product-thumbnails").slick("unslick").html(m),t.productGallery(p),setTimeout((function(){var e=$(".product-gallery__wrapper");e.length&&!e.width()&&t.productGallery(p)}),1500)}}}}},{key:"productGallery",value:function(e){if(e.length){var t=e.find(".product-gallery__wrapper"),r=e.find(".product-thumbnails");t.length&&(t.hasClass("slick-initialized")&&t.slick("unslick"),t.slick({rtl:Theme.isRtl(),slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1,arrows:!1,lazyLoad:"ondemand"})),r.length&&(r.hasClass("slick-initialized")&&r.slick("unslick"),r.slick({rtl:Theme.isRtl(),slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,asNavFor:t,vertical:1===r.data("vertical"),nextArrow:'<button class="slick-next slick-arrow"><i class="fas fa-chevron-down"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fas fa-chevron-up"></i></button>',responsive:[{breakpoint:768,settings:{slidesToShow:4,vertical:!1}},{breakpoint:480,settings:{slidesToShow:3,vertical:!1}}]})),this.lightGallery(e)}}},{key:"quickSearchProducts",value:function(){var e=$(".form--quick-search");$("body").on("click",(function(e){$(e.target).closest(".form--quick-search").length||$(".panel--search-result").removeClass("active")}));var t=null;function r(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=r.find(".panel--search-result"),n=r.find(".input-search-product").val();if(n){e.find(".input-search-product").val(n);var i=r.find("button[type=submit]");t=$.ajax({type:"GET",url:a||r.data("url"),dataType:"json",data:a?[]:r.serialize(),beforeSend:function(){i.addClass("loading"),null!==t&&t.abort()},success:function(e){var t=e.error,r=e.data;if(t)o.html("").removeClass("active");else if(a){var n=$("<div>".concat(r,"</div>"));o.find(".panel__content").find(".loadmore-container").remove(),o.find(".panel__content").append(n.find(".panel__content p-3").contents())}else o.html(r).addClass("active")},complete:function(){i.removeClass("loading")}})}else o.html("").removeClass("active")}e.on("keyup",".input-search-product",(function(){r($(this).closest("form"))})),e.on("change",".product-category-select",(function(){r($(this).closest("form"))})),e.on("click",".loadmore",(function(e){e.preventDefault();var t=$(this).closest("form");$(this).addClass("loading"),r(t,$(this).attr("href"))}))}},{key:"addToCart",value:function(e){var t=this;e.preventDefault();var r=$(e.currentTarget);$.ajax({url:r.prop("href"),method:"POST",data:{id:r.data("id")},dataType:"json",beforeSend:function(){r.addClass("loading")},success:function(e){var r=e.error,a=e.message;r?Theme.showError(a):(t.loadAjaxCart(),t.$body.find(".tp-cart-toggle").trigger("click"))},error:function(e){return Theme.handleError(e)},complete:function(){r.removeClass("loading")}})}},{key:"addProductToCart",value:function(e){var t=this;e.preventDefault();var r=$(e.currentTarget),a=r.closest("form.cart-form"),o=a.serializeArray();o.push({name:"checkout",value:"checkout"===r.prop("name")?1:0}),$.ajax({type:"POST",url:a.prop("action"),data:$.param(o),beforeSend:function(){r.addClass("button-loading")},success:function(e){var r=e.error,a=e.message,o=e.data;if(r)return Theme.showError(a),void(void 0!==(null==o?void 0:o.next_url)&&setTimeout((function(){window.location.href=o.next_url}),500));void 0===(null==o?void 0:o.next_url)?(t.$body.find(".tp-cart-toggle").trigger("click"),t.loadAjaxCart()):window.location.href=o.next_url},error:function(e){Theme.handleError(e)},complete:function(){r.removeClass("button-loading")}})}},{key:"addToCompare",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),method:"POST",beforeSend:function(){t.addClass("loading")},success:function(e){var t=e.error,r=e.data,a=e.message;t?Theme.showError(a):(Theme.showSuccess(a),$(".header-cart .tp-product-compare-count").text(r.count))},error:function(e){Theme.handleError(e)},complete:function(){t.removeClass("loading")}})}},{key:"removeFromCompare",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),method:"POST",data:{_method:"DELETE"},success:function(e){var t=e.error,r=e.data,a=e.message;t?Theme.showError(a):(Theme.showSuccess(a),$(".header-cart .tp-product-compare-count").text(r.count),$(".compare-area").load(window.location.href+" .compare-area > *"))},error:function(e){Theme.handleError(e)}})}},{key:"removeFromCart",value:function(e){var t=this;e.preventDefault();var r=$(e.currentTarget);$.ajax({url:r.data("url"),method:"GET",beforeSend:function(){r.addClass("loading")},success:function(e){var r;if(e.error)Theme.showError(e.message);else{var a=$(".cart-area");a.length&&null!==(r=window.siteConfig)&&void 0!==r&&r.cartUrl&&a.load(window.siteConfig.cartUrl+" .cart-area > *"),t.loadAjaxCart()}},error:function(e){Theme.showError(e.message)},complete:function(){r.removeClass("loading")}})}},{key:"addToWishlist",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),method:"POST",beforeSend:function(){t.addClass("loading")},success:function(e){var r=e.error,a=e.message,o=e.data;r?Theme.showError(a):(Theme.showSuccess(a),$(".header-cart .tp-product-wishlist-count").text(o.count),o.added?t.find("i").removeClass("fal").addClass("fas"):t.find("i").removeClass("fas").addClass("fal"))},error:function(e){Theme.handleError(e)},complete:function(){t.removeClass("loading")}})}},{key:"removeFromWishlist",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),method:"POST",data:{_method:"DELETE"},success:function(e){e.error?Theme.showError(e.message):(Theme.showSuccess(e.message),$(".header-cart .tp-product-wishlist-count").text(e.data.count),$(".wishlist-area").load(window.location.href+" .wishlist-area > *"))},error:function(e){Theme.handleError(e)}})}},{key:"loadAjaxCart",value:function(){var e,t=this;null!==(e=window.siteConfig)&&void 0!==e&&e.ajaxCart&&$.ajax({url:window.siteConfig.ajaxCart,method:"GET",success:function(e){var r=e.data;e.error||(t.$body.find(".tpcartinfo .tpcart__product").html(r.html),t.$body.find(".header-cart .tp-product-count").text(r.count))}})}},{key:"applyCouponCode",value:function(e){e.preventDefault();var t=$(e.currentTarget),r=t.closest(".coupon").find("#coupon_code").val();$.ajax({url:t.data("url"),type:"POST",data:{coupon_code:r},beforeSend:function(){t.prop("disabled",!0).addClass("loading")},success:function(e){e.error?Theme.showError(e.message):$(".cart-area").load(window.location.href+"?applied_coupon=1 .cart-area > *",(function(){t.prop("disabled",!1).removeClass("loading"),Theme.showSuccess(e.message)}))},error:function(e){Theme.handleError(e)},complete:function(e){var r;(200!==e.status||null!=e&&null!==(r=e.responseJSON)&&void 0!==r&&r.error)&&t.prop("disabled",!1).removeClass("loading")}})}},{key:"removeCouponCode",value:function(e){e.preventDefault();var t=$(e.currentTarget),r=t.text();t.text(t.data("loading-text")),$.ajax({url:t.prop("href"),type:"POST",success:function(e){e.error?Theme.showError(e.message):$(".cart-area").load(window.location.href+" .cart-area > *",(function(){t.text(r)}))},error:function(e){Theme.handleError(e)},complete:function(e){var a;(200!==e.status||null!=e&&null!==(a=e.responseJSON)&&void 0!==a&&a.error)&&t.text(r)}})}},{key:"changeCartQuantity",value:function(e){var t=$(e.target),r=t.parent().find("input"),a=parseInt(r.attr("step"),10),o=parseInt(r.attr("min"),10),n=parseInt(r.attr("max"),10),i=parseInt(r.val(),10);t.hasClass("cart-minus")&&i>o&&(r.val(i-a),r.trigger("change")),t.hasClass("cart-plus")&&i<n&&(r.val(i+a),r.trigger("change")),this.updateCart(e)}},{key:"onChangeQuantityInput",value:function(e){var t=$(e.target),r=parseInt(t.attr("min"),10),a=parseInt(t.attr("max"),10),o=parseInt(t.val(),10);o<r&&t.val(r),o>a&&t.val(a),this.updateCart(e)}},{key:"updateCart",value:function(e){var t=this;e.preventDefault();var r=this.$body.find(".cart-form");r.length&&$.ajax({type:"POST",cache:!1,url:r.prop("action"),data:new FormData(r[0]),contentType:!1,processData:!1,success:function(e){var r=e.error,a=e.message;r?Theme.showError(a):($(".cart-area").load(window.siteConfig.cartUrl+" .cart-area > *"),t.loadAjaxCart(),Theme.showSuccess(a))},error:function(e){Theme.handleError(e)}})}},{key:"handleProductsPagination",value:function(e){e.preventDefault();var t=new URL($(e.currentTarget).attr("href")).searchParams.get("page");this.$productsFilter.find('input[name="page"]').val(t),this.filterProducts(this.$productsFilter,t)}},{key:"handleProductsSorting",value:function(e){var t=$(e.currentTarget);this.$productsFilter.find('input[name="sort-by"]').val(t.val()).trigger("change")}},{key:"handleProductsPerPage",value:function(e){var t=$(e.currentTarget);this.$productsFilter.find('input[name="per-page"]').val(t.val()).trigger("change")}},{key:"handleProductsLayout",value:function(e){var t=$(e.currentTarget);t.addClass("active"),t.siblings().removeClass("active"),this.$productsFilter.find('input[name="layout"]').val(t.data("type")).trigger("change")}},{key:"filterProducts",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r&&e.find("input[name=page]").val(r),$.ajax({url:"".concat(e.prop("action"),"?").concat(e.serialize()),type:"GET",beforeSend:function(){t.$body.find(".product-filter-mobile").removeClass("active"),t.$body.find(".loading-spinner").removeClass("d-none"),$("html, body").animate({scrollTop:$(".product-area").offset().top-100})},success:function(r){var a=r.error,o=r.message,n=r.data,i=r.additional;if(t.$body.find(".product-list").html(n),t.$body.find(".product-item-count span").text(o),null!=i&&i.breadcrumb&&$(".page-breadcrumbs div").html(i.breadcrumb),null!=i&&i.filters_html){var c=e.find(".product-categories-filter-widget .product-sidebar__widget").clone();e.html(i.filters_html),e.find(".product-categories-filter-widget .product-sidebar__widget").replaceWith(c),t.priceFilter()}a?Theme.showError(o||"Opp!"):window.history.pushState({},"","".concat(window.location.pathname,"?").concat(e.serialize()))},error:function(e){Theme.handleError(e)},complete:function(){t.$body.find(".loading-spinner").addClass("d-none")}})}},{key:"priceFilter",value:function(){var e=$(document).find("#slider-range");if(e.length){var t=e.data("min"),r=e.data("max"),a=$(document).find(".price-filter");e.slider({range:!0,min:t,max:r,values:[a.find('input[name="min_price"]').val(),a.find('input[name="max_price"]').val()],slide:function(e,t){a.find("#amount").text("".concat(t.values[0].format_price()," - ").concat(t.values[1].format_price()))},change:function(e,t){a.find('input[name="min_price"]').val(t.values[0]),a.find('input[name="max_price"]').val(t.values[1]).trigger("change")}}),a.find("#amount").text("".concat(e.slider("values",0).format_price()," - ").concat(e.slider("values",1).format_price()))}}},{key:"lightGallery",value:function(e){e.data("lightGallery")&&e.data("lightGallery").destroy(!0),e.lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1})}},{key:"quickView",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),type:"GET",beforeSend:function(){t.addClass("loading")},success:function(e){var t=e.data;$("#quick-view-popup").html(t),$.magnificPopup.open({items:{src:"#quick-view-popup"},type:"inline"}),$(".thumbnails .images").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!0,adaptiveHeight:!1,rtl:Theme.isRtl()})},error:function(e){Theme.handleError(e)},complete:function(){t.removeClass("loading")}})}},{key:"quickShop",value:function(e){e.preventDefault();var t=$(e.currentTarget);$.ajax({url:t.prop("href"),type:"GET",beforeSend:function(){t.addClass("loading")},success:function(e){var t=e.data;$("#quick-shop-popup").html(t),$.magnificPopup.open({items:{src:"#quick-shop-popup"},type:"inline"})},error:function(e){Theme.handleError(e)},complete:function(){t.removeClass("loading")}})}}],o&&t(a.prototype,o),n&&t(a,n),Object.defineProperty(a,"prototype",{writable:!1}),e}();$((function(){var e=new o;e.init(),setTimeout((function(){var t=$(".product-gallery__wrapper");t.length&&!t.width()&&e.productGallery($(".product-gallery"))}),1500),$.each($('.product-sidebar__list .category-filter input[type="checkbox"]:checked'),(function(){$(this).closest(".product-sidebar__list").show()}))}))})();